# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           cmake 1.1

name                previous
version             20251012
revision            0
categories          emulators
license             GPL-2+
maintainers         {@trodemaster icloud.com:manuals-unread2u} openmaintainer

description         NeXT computer emulator
long_description    Previous is an open source NeXT computer emulator based on \
                    the Atari emulator Hatari. It emulates NeXT's 68030 and 68040 \
                    machines running NeXTSTEP operating system.

homepage            https://sourceforge.net/projects/previous/

fetch.type          svn
svn.url             https://svn.code.sf.net/p/previous/code/trunk
worksrcdir          trunk

depends_lib         port:libsdl2 \
                    port:libpcap \
                    port:libpng \
                    port:zlib

# Patch to allow configurable installation directory
patchfiles          patch-macports-appdir.diff

# Configure CMake build type and set bundle installation directory
configure.args-append \
                    -DCMAKE_BUILD_TYPE=Release \
                    -DBUNDLE_INSTALL_DIR=${applications_dir}

notes "
Previous is an experimental port tracking the SVN trunk HEAD.
This is a NeXT computer emulator that can run NeXTSTEP operating systems.
"

